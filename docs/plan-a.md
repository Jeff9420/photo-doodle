# 方案 A：友好相机 + 星心涂鸦 —— 实施计划

## 目标概述
在浏览器端构建一个无需依赖外部构建工具的轻量级应用，集成「友好相机」拍摄体验与「星心涂鸦」创作工具，实现照片采集、趣味涂鸦与成品导出的一体化流程。

## 核心任务拆解
1. **项目基础设施**
   - 建立原生 HTML/CSS/JavaScript 的项目骨架，约定统一的 DOM 结构和样式入口。
   - 定义常量与共享状态（画布尺寸、活动工具、颜色、粗细等），为相机与涂鸦模块提供稳定接口。

2. **友好相机模块**
   - 使用 `navigator.mediaDevices.getUserMedia` 请求前置摄像头权限，提供实时取景预览。
   - 设计友好的提示文案与状态展示（如权限请求、加载中、失败提醒）。
   - 支持一键捕获画面并渲染到照片画布，同时允许从本地上传图片替代相机画面。

3. **星心涂鸦模块**
   - 搭建独立的涂鸦画布，支持指针事件（鼠标/触屏）绘制。
   - 实现星形与爱心组合笔刷：沿轨迹按间距交替绘制星形与爱心，可自定义颜色与大小。
   - 提供基础自由画笔、撤销/清空控制，确保误触可恢复。

4. **导出与易用性增强**
   - 将照片画布与涂鸦画布合成导出 PNG 文件，保留透明背景和足够分辨率。
   - 适配移动端布局（响应式）、键盘可达性与ARIA标签，提升可访问性。
   - 编写核心模块注释与使用说明，方便后续扩展迭代。

## 交付物
- `index.html`：页面结构与主要交互组件挂载点。
- `src/styles.css`：布局、主题色、动画与响应式规则。
- `src/main.js`：相机管理、涂鸦逻辑、导出流程以及状态管理。
- 文档更新：本计划文件与必要的内联注释，说明关键设计决策与扩展方向。

## 测试要点
- 桌面与移动端分别验证相机权限流程、绘制体验、导出结果。
- 通过多次切换图片来源（相机/上传）与多次导出确保状态重置正确。
- 使用键盘与屏幕阅读器审查基本可访问性反馈。

