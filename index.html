<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>照片涂鸦 · 星心创作实验室</title>
    <link rel="stylesheet" href="src/styles.css" />
  </head>
  <body>
    <div class="app-shell">
      <header class="app-header">
        <div class="header-content">
          <h1>照片涂鸦 · 星心创作实验室</h1>
          <p>
            上传手机已拍好的照片，用星心笔刷或贴纸装饰、放置节日文案，并导出 1080p 成品。
          </p>
        </div>
      </header>

      <main class="app-main">
        <section class="panel controls" aria-label="操作面板">
          <!-- 登录/注册功能暂时下线，访客模式默认可用，移除登录卡片 -->

          

          <div class="card upload-card">
            <div class="card-header">
              <h2>替换照片</h2>
              <p>上传 JPG/PNG（≤ 10 MB）继续创作。</p>
            </div>
            <label class="upload-input">
              <span>上传照片</span>
              <input id="uploadInput" type="file" accept="image/png, image/jpeg" />
            </label>
          </div>

          <div class="card project-card">
            <div class="card-header">
              <h2>作品管理</h2>
              <p>为作品命名并保存，随时切换不同的庆祝主题。</p>
            </div>
            <div class="field-group">
              <label for="projectName">当前作品名称</label>
              <input
                id="projectName"
                type="text"
                placeholder="例如：小王生日派对"
                maxlength="42"
              />
            </div>
            <div class="button-group compact">
              <button id="saveProject" type="button">保存进度</button>
              <button id="newProject" type="button" class="secondary">新建空白作品</button>
            </div>
            <div class="project-list" id="projectList" role="listbox" aria-label="已保存的作品"></div>
            <p class="hint-text">每个账号最多保存 10 个作品，数据仅存储在本地浏览器。</p>
          </div>

          <div class="card brush-card">
            <div class="card-header">
              <h2>星心涂鸦与画笔</h2>
              <p>选择星心笔、画笔、马克笔或荧光笔，搭配预设颜色和粗细继续创意。</p>
            </div>
            <div class="tool-toggle" role="group" aria-label="涂鸦工具">
              <button type="button" class="tool-button active" data-tool="starHeart">星心笔</button>
              <button type="button" class="tool-button" data-tool="brush">彩色画笔</button>
              <button type="button" class="tool-button" data-tool="marker">马克笔</button>
              <button type="button" class="tool-button" data-tool="highlighter">荧光笔</button>
              <button type="button" class="tool-button" data-tool="eraser">橡皮擦</button>
            </div>
            <div class="field-group">
              <label>预设颜色（画笔专用）</label>
              <div class="color-swatches" role="group" aria-label="画笔颜色">
                <button
                  type="button"
                  class="color-swatch active"
                  data-color="#ff4b6e"
                  aria-label="暖粉色"
                ></button>
                <button
                  type="button"
                  class="color-swatch"
                  data-color="#ff9e59"
                  aria-label="柑橘橙"
                ></button>
                <button
                  type="button"
                  class="color-swatch"
                  data-color="#3ad1b3"
                  aria-label="薄荷绿"
                ></button>
                <button
                  type="button"
                  class="color-swatch"
                  data-color="#6b5bff"
                  aria-label="星空蓝"
                ></button>
                <button
                  type="button"
                  class="color-swatch"
                  data-color="#ffd6e6"
                  aria-label="浅樱粉"
                ></button>
              </div>
            </div>
            <div class="field-group">
              <label>粗细（画笔 / 橡皮擦）</label>
              <div class="size-options" role="group" aria-label="笔触粗细">
                <button type="button" class="size-option active" data-size="12">
                  <span class="size-dot"></span>
                  细
                </button>
                <button type="button" class="size-option" data-size="24">
                  <span class="size-dot"></span>
                  中
                </button>
                <button type="button" class="size-option" data-size="40">
                  <span class="size-dot"></span>
                  粗
                </button>
              </div>
            </div>
            <div class="button-group compact">
              <button id="undoDoodle" type="button">撤销</button>
              <button id="clearDoodle" type="button">清空涂鸦</button>
            </div>
          </div>

          <div class="card text-card">
            <div class="card-header">
              <h2>节日文案</h2>
              <p>选择字体与颜色后，点击“放置文本”并在画布上点选位置。</p>
            </div>
            <div class="field-group">
              <label for="textContent">文案内容</label>
              <textarea
                id="textContent"
                rows="2"
                placeholder="例如：生日快乐，一起许愿吧！"
              ></textarea>
            </div>
            <div class="field-row">
              <div class="field-group">
                <label for="fontSelect">字体样式</label>
                <select id="fontSelect" aria-label="文本字体"></select>
              </div>
              <div class="field-group">
                <label for="textColor">文本颜色</label>
                <input id="textColor" type="color" value="#1b1b2f" />
              </div>
            </div>
            <div class="field-group">
              <label for="textSize">文本大小</label>
              <input
                id="textSize"
                type="range"
                min="32"
                max="120"
                step="4"
                value="64"
                aria-label="文本大小"
              />
            </div>
            <div class="button-group compact">
              <button id="placeText" type="button">点击画布放置</button>
            </div>
            <p class="hint-text">小提示：桌面按住空格拖动，触屏请启用平移模式；鼠标滚轮可缩放。</p>
          </div>

          <div class="card sticker-card">
            <div class="card-header">
              <h2>节日贴纸库</h2>
              <p>六大主题共 150 枚贴纸，覆盖生日、新年、纪念日与四季祝福。</p>
            </div>
            <div class="sticker-tabs" role="tablist" aria-label="贴纸主题">
              <button
                type="button"
                class="sticker-tab active"
                data-sticker-category="birthday"
              >生日祝福</button>
              <button
                type="button"
                class="sticker-tab"
                data-sticker-category="newYear"
              >新年喜庆</button>
              <button
                type="button"
                class="sticker-tab"
                data-sticker-category="anniversary"
              >纪念日闪耀</button>
              <button
                type="button"
                class="sticker-tab"
                data-sticker-category="party"
              >派对狂欢</button>
              <button
                type="button"
                class="sticker-tab"
                data-sticker-category="blessing"
              >温暖祝福</button>
              <button
                type="button"
                class="sticker-tab"
                data-sticker-category="seasonal"
              >四季节庆</button>
            </div>
            <div class="field-group">
              <label for="stickerSize">贴纸大小</label>
              <input
                id="stickerSize"
                type="range"
                min="140"
                max="320"
                step="10"
                value="220"
                aria-label="贴纸大小"
              />
            </div>
            <div class="sticker-list" id="stickerList" role="listbox" aria-label="节日贴纸"></div>
            <div class="button-group compact">
              <button id="exitStickerMode" type="button" class="secondary">退出贴纸放置</button>
            </div>
          </div>
        </section>

        <section class="panel canvas-panel" aria-label="画布舞台">
          <div class="canvas-wrapper" id="canvasWrapper">
            <div class="canvas-stage" id="canvasStage">
              <canvas id="photoCanvas" aria-label="照片画布" role="img"></canvas>
              <canvas
                id="doodleCanvas"
                aria-label="涂鸦画布"
                role="presentation"
              ></canvas>
              <div class="canvas-placeholder" id="canvasPlaceholder">
                <p>
                  请先上传一张照片，再用画笔、文字与贴纸点亮画面吧！
                </p>
              </div>
            </div>
          </div>
          <div class="canvas-actions">
            <div class="view-controls" aria-label="画布视图控制">
              <div class="view-zoom">
                <button id="zoomOut" type="button" class="secondary" aria-label="缩小画布">−</button>
                <input
                  id="zoomSlider"
                  type="range"
                  min="50"
                  max="200"
                  step="5"
                  value="100"
                  aria-label="缩放比例"
                />
                <button id="zoomIn" type="button" aria-label="放大画布">＋</button>
              </div>
              <div class="view-actions">
                <button id="resetView" type="button" class="secondary">重置视图</button>
                <button id="togglePan" type="button" class="secondary" aria-pressed="false">平移模式</button>
              </div>
              <p class="hint-text">
                提示：桌面按住空格拖动，触屏请启用平移模式；鼠标滚轮可缩放。
              </p>
            </div>
            <button id="exportImage" type="button">导出 1080p PNG</button>
            <p class="hint-text">
              小提示：桌面按住空格拖动，触屏请启用平移模式；鼠标滚轮可缩放。
            </p>
          </div>
        </section>
      </main>

      <footer class="app-footer">
        <p>
          Made with ♥ for 事件驱动的庆祝时刻 — 欢迎继续扩展更多节日主题。
        </p>
      </footer>
    </div>

    <script type="module" src="src/main.js"></script>
  </body>
</html>




